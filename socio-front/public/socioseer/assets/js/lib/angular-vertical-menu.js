function VerticalMenu(){function e(e,a){var t=e.find("li")[1].offsetHeight;return{post:function(e,a,n,i){i.config.animation&&i.setupAnimation(t)}}}return{restrict:"EA",replace:!0,scope:{},controller:VerticalMenuController,controllerAs:"vm",bindToController:{id:"@",config:"="},templateUrl:"templates/angular-vertical-menu.directive.html",compile:e}}function VerticalMenuController(e,a){function t(e,a,t){return"@-webkit-keyframes expand-"+t+" { from { max-height: 0px; } to { max-height: "+(a=a*e.children.length)+"px; } }     \t\t    @keyframes expand-"+t+" { from { max-height: 0px; } to { max-height: "+a+"px; } }"+("@-webkit-keyframes collapse-"+t+" { from { max-height: "+a+"px; } to { max-height: 0px; } }     \t\t    @keyframes collapse-"+t+" { from { max-height: "+a+"px; } to { max-height: 0px; }}")}function n(e){var a=angular.copy(l);return angular.isObject(i.config.animation)&&(a=angular.extend({},a,i.config.animation)),0}var i=this;i.DEFAULT_BULLET_ICON="fa-circle-o";var l={duration:.4,timing:"ease"};i.setupAnimation=function(e){var a=document.createElement("style");a.type="text/css";for(var l,c,r=i.config.data,o=document.head||document.getElementsByTagName("head")[0],s=null,g=0;g<r.length;g++)(c=r[g]).children&&c.children.length>0&&(s=i.getId(g),a.appendChild(document.createTextNode(n(s))),l=t(r[g],e,s),a.appendChild(document.createTextNode(l)));o.appendChild(a)},i.toggle=function(t,n,l){if(!n.href){for(var c=i.config.data,r=[],o=0;o<c.length;o++)o!=l&&r.push(o);r.length&&angular.forEach(r,function(e){c[e].active=!1})}return t.stopPropagation(),i.hasChildren(n)?n.active=!n.active:n.href?e.$evalAsync(function(){a.path(n.href)}):n.callback&&n.callback(n),!1},i.toggleChild=function(t,n,l,c){"composePost"==n.href&&(localStorage.removeItem("currentPost"),localStorage.removeItem("isPostEdit")),t.stopPropagation();for(var r=c.children,o=[],s=0;s<r.length;s++)s!=l&&o.push(s),o.length&&angular.forEach(o,function(e){r[e].active=!1});return i.hasChildren(n)||(n.href?e.$evalAsync(function(){a.path(n.href),n.active||(n.active=!0)}):n.callback&&n.callback(n)),!1},i.hasChildren=function(e){return!!e.children},i.getItemIcon=function(e){return e.icon||i.getDefaultIcon()},i.getDefaultIcon=function(){var e=i.DEFAULT_BULLET_ICON;return i.config.default&&i.config.default.icon&&(e=i.config.default.icon),e},i.getId=function(e){var a=i.id||"";return a+=e}}angular.module("angularVerticalMenu",[]),angular.module("angularVerticalMenu").directive("verticalMenu",VerticalMenu),VerticalMenuController.$inject=["$rootScope","$location"],angular.module("angularVerticalMenu").run(["$templateCache",function(e){e.put("templates/angular-vertical-menu.directive.html",'<ul class=vertical-menu><li class=treeview ng-class="{\'active\' : item.active}" ng-repeat="item in vm.config.data track by $index"><a ng-href ng-click="vm.toggle($event, item,$index)"><i class="fa {{::item.icon}}"></i> <span class=\'span\'>{{::item.label}}</span> <span class="pull-right badge {{item.badge.context}}" ng-if=item.badge>{{item.badge.value || item.badge}}</span> <span class="span fa pull-right" ng-class="{\'fa-angle-right\' : !item.active, \'fa-angle-down\' : item.active}" ng-if=vm.hasChildren(item)></span></a><ul class="treeview-menu sbm-collapse sbm-collapse-{{::vm.getId($index)}}" ng-class="{\'visible\' : vm.hasChildren(item) && item.active}"><li class=child level-2 ng-class="{\'active\' : child.active}" ng-repeat="child in item.children track by $index"><a ng-href ng-click="vm.toggleChild($event, child,$index , item);"><i class="fa {{::vm.getItemIcon(child)}}"></i><span class=\'ml20px\'>{{::child.label}}</span><span class="fa pull-right" ng-class="{\'fa-angle-right\' : !child.active, \'fa-angle-down\' : child.active}" ng-if=vm.hasChildren(child)></span></a> <ul class="treeview-menu sbm-collapse-{{::vm.getId($index)}}"  ng-class="{\'visible\' : vm.hasChildren(child) && child.active}"><li class=childs level-3 ng-class="{\'active\' : childs.active}" ng-repeat="childs in child.children track by $index"><a ng-href ng-click="vm.toggleChild($event, childs,$index, child);"><i class="fa {{::vm.getItemIcon(childs)}}"></i><span class=\'ml20px\'>{{::childs.label}}</span></a></li></ul></li></ul></li></ul>')}]);
