!function(e,t){"use strict";"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular,"undefined"==typeof moment?require("moment"):moment),module.exports="ui.bootstrap.datetimepicker"):"function"==typeof define&&define.amd?define(["angular","moment"],t):t(e.angular,e.moment)}(this,function(e,t){"use strict";function r(r,n){function a(a,o,u){function s(e,t,r){if(r&&(r.stopPropagation(),r.preventDefault()),e&&t.utcDateValue>-1/0&&t.selectable&&O[e]){var n=O[e](t.utcDateValue),i=[];if(n.weeks)for(var o=0;o<n.weeks.length;o+=1)for(var u=n.weeks[o],s=0;s<u.dates.length;s+=1){var l=u.dates[s];i.push(l)}a.beforeRender({$view:n.currentView,$dates:n.dates||i,$leftDate:n.leftDate,$upDate:n.previousViewDate,$rightDate:n.rightDate}),a.data=n}}function l(e){for(var r=t.utc(e).startOf("year"),n=10*parseInt(r.year()/10,10),a=t.utc(v(e)).subtract(1,"year").startOf("year"),o=Y(V.$modelValue,"YYYY"),u=t().format("YYYY"),s={currentView:"year",nextView:"year"===y.minView?"setTime":"month",previousViewDate:new i({utcDateValue:null,display:n+"-"+(n+9)}),leftDate:new i({utcDateValue:t.utc(a).subtract(9,"year").valueOf()}),rightDate:new i({utcDateValue:t.utc(a).add(11,"year").valueOf()}),dates:[]},l=0;l<12;l+=1){var d=t.utc(a).add(l,"years"),c={active:d.format("YYYY")===o,current:d.format("YYYY")===u,display:d.format("YYYY"),future:d.year()>n+9,past:d.year()<n,utcDateValue:d.valueOf()};s.dates.push(new i(c))}return s}function d(e){for(var r=t.utc(e).startOf("year"),n=v(e),a=Y(V.$modelValue,"YYYY-MMM"),o=t().format("YYYY-MMM"),u={previousView:"year",currentView:"month",nextView:"month"===y.minView?"setTime":"day",previousViewDate:new i({utcDateValue:n.valueOf(),display:r.format("YYYY")}),leftDate:new i({utcDateValue:t.utc(r).subtract(1,"year").valueOf()}),rightDate:new i({utcDateValue:t.utc(r).add(1,"year").valueOf()}),dates:[]},s=0;s<12;s+=1){var l=t.utc(r).add(s,"months"),d={active:l.format("YYYY-MMM")===a,current:l.format("YYYY-MMM")===o,display:l.format("MMM"),utcDateValue:l.valueOf()};u.dates.push(new i(d))}return u}function c(e){for(var r=t.utc(e),n=t.utc(r).startOf("month"),a=t.utc(r).startOf("year"),o=t.utc(r).endOf("month"),u=t.utc(n).subtract(Math.abs(n.weekday()),"days"),s=Y(V.$modelValue,"YYYY-MMM-DD"),l=t().format("YYYY-MMM-DD"),d={previousView:"month",currentView:"day",nextView:"day"===y.minView?"setTime":"hour",previousViewDate:new i({utcDateValue:a.valueOf(),display:n.format("YYYY-MMM")}),leftDate:new i({utcDateValue:t.utc(n).subtract(1,"months").valueOf()}),rightDate:new i({utcDateValue:t.utc(n).add(1,"months").valueOf()}),dayNames:[],weeks:[]},c=0;c<7;c+=1)d.dayNames.push(t.utc().weekday(c).format("dd"));for(var f=0;f<6;f+=1){for(var m={dates:[]},p=0;p<7;p+=1){var w=t.utc(u).add(7*f+p,"days"),v={active:w.format("YYYY-MMM-DD")===s,current:w.format("YYYY-MMM-DD")===l,display:w.format("D"),future:w.isAfter(o),past:w.isBefore(n),utcDateValue:w.valueOf()};m.dates.push(new i(v))}d.weeks.push(m)}return d}function f(e){for(var r=t.utc(e).startOf("day"),n=t.utc(r).startOf("month"),a=Y(V.$modelValue,"YYYY-MM-DD H"),o=t().format("YYYY-MM-DD H"),u={previousView:"day",currentView:"hour",nextView:"hour"===y.minView?"setTime":"minute",previousViewDate:new i({utcDateValue:n.valueOf(),display:r.format("ll")}),leftDate:new i({utcDateValue:t.utc(r).subtract(1,"days").valueOf()}),rightDate:new i({utcDateValue:t.utc(r).add(1,"days").valueOf()}),dates:[]},s=0;s<24;s+=1){var l=t.utc(r).add(s,"hours"),d={active:l.format("YYYY-MM-DD H")===a,current:l.format("YYYY-MM-DD H")===o,display:l.format("LT"),utcDateValue:l.valueOf()};u.dates.push(new i(d))}return u}function m(e){for(var r=t.utc(e).startOf("hour"),n=t.utc(r).startOf("day"),a=Y(V.$modelValue,"YYYY-MM-DD H:mm"),o=t().format("YYYY-MM-DD H:mm"),u={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new i({utcDateValue:n.valueOf(),display:r.format("lll")}),leftDate:new i({utcDateValue:t.utc(r).subtract(1,"hours").valueOf()}),rightDate:new i({utcDateValue:t.utc(r).add(1,"hours").valueOf()}),dates:[]},s=60/y.minuteStep,l=0;l<s;l+=1){var d=t.utc(r).add(l*y.minuteStep,"minute"),c={active:d.format("YYYY-MM-DD H:mm")===a,current:d.format("YYYY-MM-DD H:mm")===o,display:d.format("LT"),utcDateValue:d.valueOf()};u.dates.push(new i(c))}return u}function p(e){var r=new Date(e),n=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds());switch(y.modelType){case"Date":break;case"moment":n=t([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()]);break;case"milliseconds":n=e;break;default:n=t([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()]).format(y.modelType)}var i=V.$modelValue;return V.$setViewValue(n),y.dropdownSelector&&jQuery(y.dropdownSelector).dropdown("toggle"),a.onSetTime({newDate:n,oldDate:i}),O[y.startView](e)}function w(){a.changeView(y.startView,new i({utcDateValue:g(V.$viewValue)}))}function v(e){var r=10*parseInt(t.utc(e).year()/10,10);return t.utc(e).year(r).startOf("year")}function Y(e,t){return e?D(e).format(t):""}function D(r){return t(r,e.isString(r)?y.parseFormat:void 0)}function g(e){var t=new Date;if(e){var r=D(e);if(!r.isValid())throw new Error("Invalid date: "+e);t=r.toDate()}return t.getTime()-6e4*t.getTimezoneOffset()}function h(){var t={};u.datetimepickerConfig&&(t=a.$parent.$eval(u.datetimepickerConfig));var i=e.extend({},r,t);return n.validate(i),i}var V=o.controller("ngModel"),y=h();a.screenReader=y.screenReader,a.changeView=s,V.$render=w,y.configureOn&&a.$on(y.configureOn,function(){y=h(),a.screenReader=y.screenReader,V.$render()}),y.renderOn&&a.$on(y.renderOn,V.$render);var O={year:l,month:d,day:c,hour:f,minute:m,setTime:p}}function i(){var e=new Date(arguments[0].utcDateValue),t=6e4*e.getTimezoneOffset();this.utcDateValue=e.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+t};var r=["active","current","display","future","past","selectable","utcDateValue"],n=arguments[0];Object.keys(n).filter(function(e){return r.indexOf(e)>=0}).forEach(function(e){this[e]=n[e]},this)}var o={bindToController:!1,controller:a,controllerAs:"dateTimePickerController",replace:!0,require:"ngModel",restrict:"E",scope:{beforeRender:"&",onSetTime:"&"},templateUrl:"templates/datetimepicker.html"};return a.$inject=["$scope","$element","$attrs"],o}function n(){var r={configureOn:null,dropdownSelector:null,minuteStep:5,minView:"minute",modelType:"Date",parseFormat:"YYYY-MM-DDTHH:mm:ss.SSSZZ",renderOn:null,startView:"day"},n={bg:{previous:"предишна",next:"следваща"},ca:{previous:"anterior",next:"següent"},da:{previous:"forrige",next:"næste"},de:{previous:"vorige",next:"weiter"},"en-au":{previous:"previous",next:"next"},"en-gb":{previous:"previous",next:"next"},en:{previous:"previous",next:"next"},"es-us":{previous:"atrás",next:"siguiente"},es:{previous:"atrás",next:"siguiente"},fi:{previous:"edellinen",next:"seuraava"},fr:{previous:"précédent",next:"suivant"},hu:{previous:"előző",next:"következő"},it:{previous:"precedente",next:"successivo"},ja:{previous:"前へ",next:"次へ"},ml:{previous:"മുൻപുള്ളത്",next:"അടുത്തത്"},nl:{previous:"vorige",next:"volgende"},pl:{previous:"poprzednia",next:"następna"},"pt-br":{previous:"anteriores",next:"próximos"},pt:{previous:"anterior",next:"próximo"},ro:{previous:"anterior",next:"următor"},ru:{previous:"предыдущая",next:"следующая"},sk:{previous:"predošlá",next:"ďalšia"},sv:{previous:"föregående",next:"nästa"},tr:{previous:"önceki",next:"sonraki"},uk:{previous:"назад",next:"далі"},"zh-cn":{previous:"上一页",next:"下一页"},"zh-tw":{previous:"上一頁",next:"下一頁"}}[t.locale().toLowerCase()];return e.extend({},r,{screenReader:n})}function a(t){function r(r){var n=["configureOn","dropdownSelector","minuteStep","minView","modelType","parseFormat","renderOn","startView","screenReader"],a=Object.keys(r).filter(function(e){return n.indexOf(e)<0});if(a.length)throw new Error("Invalid options: "+a.join(", "));var i=["minute","hour","day","month","year"];if(i.indexOf(r.startView)<0)throw new Error("invalid startView value: "+r.startView);if(i.indexOf(r.minView)<0)throw new Error("invalid minView value: "+r.minView);if(i.indexOf(r.minView)>i.indexOf(r.startView))throw new Error("startView must be greater than minView");if(!e.isNumber(r.minuteStep))throw new Error("minuteStep must be numeric");if(r.minuteStep<=0||r.minuteStep>=60)throw new Error("minuteStep must be greater than zero and less than 60");if(null!==r.configureOn&&!e.isString(r.configureOn))throw new Error("configureOn must be a string");if(null!==r.configureOn&&r.configureOn.length<1)throw new Error("configureOn must not be an empty string");if(null!==r.renderOn&&!e.isString(r.renderOn))throw new Error("renderOn must be a string");if(null!==r.renderOn&&r.renderOn.length<1)throw new Error("renderOn must not be an empty string");if(null!==r.modelType&&!e.isString(r.modelType))throw new Error("modelType must be a string");if(null!==r.modelType&&r.modelType.length<1)throw new Error("modelType must not be an empty string");if("Date"!==r.modelType&&"moment"!==r.modelType&&"milliseconds"!==r.modelType&&(r.parseFormat=r.modelType),null!==r.dropdownSelector&&!e.isString(r.dropdownSelector))throw new Error("dropdownSelector must be a string");null===r.dropdownSelector||"undefined"!=typeof jQuery&&"function"==typeof jQuery().dropdown||(t.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete r.dropdownSelector)}return{validate:r}}e.module("ui.bootstrap.datetimepicker",[]).service("dateTimePickerConfig",n).service("dateTimePickerValidator",a).directive("datetimepicker",r),r.$inject=["dateTimePickerConfig","dateTimePickerValidator"],a.$inject=["$log"]});

